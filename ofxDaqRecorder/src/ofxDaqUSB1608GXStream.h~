#ifndef OFXDAQUSB1608GXSTREAM
#define OFXDAQUSB1608GXSTREAM

    #include "ofxDaqStream.h"

    class ofxDaqUSB1608GXStream : public ofxDaqStream, public ofThread {

        public:

            ofxDaqUSB1608GXStream();
            ofxDaqUSB1608GXStream(int blockSize_, int N_);
            ofxDaqUSB1608GXStream(int blockSize_,int N_,string filePrefix);
            ~ofxDaqUSB1608GXStream();
            bool start(int elapsedTime);
            bool stop();
            //bool loadSettings(ofxXmlSettings XML);
            bool writeData();
            bool update(int startTime, bool newFile);
            bool nextFile(int elapsedTime);
            bool dataValid(char  * dataIn,int bufferSize);
            bool dataReady();
            float percentBufferFree();
            float getDataRate();
            void threadedFunction();
                         

        protected:

            unsigned int blockSize;
            float dataRate;
            float startTime;
            unsigned int dataStartTime;
            unsigned int N;
            char * dataBlock;

    };

#endif
